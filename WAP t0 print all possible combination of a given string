/*
Name:Nishanth R
Date:20.12.2021
Description: WAP t0 print all possible combination of a given string
sample ip:
Enter a string :abc

Output:
abc
acb
bac
bca
cba
cab

Do you want to contiue(y/Y) :

*/

#include<stdio.h>
#include<string.h>
int my_str_len(char* str);
void combo(char*str,int start,int end);
void swap(char* start,char* end);

int main()
{
        char ch;
        do
        {
                char str[5];
                int start=0,end,flag =0;
                printf("Enter a string :");
                scanf("%s",str);
                end = my_str_len(str); //calling len function to find out the length of the string
                for(int i=start;i<(end-1);i++)
                {
                        if(str[i] == str[i+1]) //condition to check the characters distinct
                        {
                                flag = 1;
                        }
                }
                if(flag == 0) //if the characters distinct call the combination function
                        combo(str,start,end);
                else
                        printf("Error: please enter distinct character.");
                printf("\nDo you want to contiue(y/Y) :");
                scanf("\n%c",&ch);
        }
        while(ch=='y' || ch=='Y'); //termination condition for infiite loop
}

int my_str_len(char* str) //function to find out length of the string
{
        int count;
        for(count=0;str[count] != '\0';count++);
        return count;
}

void combo(char* str,int start,int end) //function to print possible combination of strings
{
        if(start == end) //if user enters only one character
                printf("%s\n",str);
        else
        {
                for(int i = start ; i < end ; i++)
                {
                        swap((str + start),(str + i)); //calling the swap function
                        combo(str,start + 1,end); //calling the cobination function
                        swap((str + start),(str + i)); //calling the swap function
                }
        }
}

void swap(char* start,char* end) //function to swap the characters in a string
{
        char temp = *start;
        *start = *end;
        *end = temp;
}
